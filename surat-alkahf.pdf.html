<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta charset="UTF-8">
<title>سورة الكهف - PDF</title>

<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
    background-color: #f0f0f0;
    font-family: 'Amiri', serif;
    display: flex;
    justify-content: center;
    padding: 20px;
}

.mushaf-page {
    background-color: #fffcf5;
    width: 210mm;
    min-height: 297mm;
    padding: 40px;
    border: 20px solid #2c5e4f;
    outline: 5px solid #c5a059;
    outline-offset: -15px;
    box-sizing: border-box;
}

header { text-align: center; }

.surah-title {
    font-size: 45px;
    color: #2c5e4f;
    border-bottom: 2px solid #c5a059;
    display: inline-block;
    padding: 0 30px;
    margin-bottom: 10px;
}

.bismillah {
    font-size: 30px;
    text-align: center;
    margin: 20px 0;
}

.quran-text {
    font-size: 22px;
    line-height: 2.1;
    text-align: justify;
    color: black;
}

.ayah-num {
    color: #c5a059;
    font-weight: bold;
}

.footer-dedication {
    margin-top: 30px;
    padding-top: 15px;
    border-top: 2px solid #c5a059;
    text-align: center;
}

.dedication-name {
    font-size: 22px;
    color: #2c5e4f;
    font-weight: bold;
}

.dua {
    font-size: 16px;
    color: #444;
    margin-top: 5px;
}

button {
    position: fixed;
    top: 20px;
    left: 20px;
    padding: 10px 20px;
    font-family: 'Amiri', serif;
    font-size: 16px;
    background: #2c5e4f;
    color: white;
    border: none;
    cursor: pointer;
}
</style>
</head>

<body>

<button onclick="savePDF()">تحميل PDF</button>

<div class="mushaf-page" id="pdf-content">
    <header>
        <h1 class="surah-title">سُورَةُ الكَهۡفِ</h1>
    </header>

    <div class="bismillah">
        بِسۡمِ ٱللَّهِ ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ
    </div>

    <div class="quran-text" id="quran-content">
        جاري تحميل السورة…
    </div>

    <div class="footer-dedication">
        <div class="dedication-name">
            صدقة جارية عن تركي علي عسيري ويوسف عبيد الحربي
        </div>
        <div class="dua">
            اللهم اغفر لهم وارحمهم، واجعل قبورهم روضة من رياض الجنة،
            واكتب لهم أجر كل من قرأ حرفاً من كتابك الكريم.
        </div>
    </div>
</div>

<!-- مكتبة PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script>
// جلب سورة الكهف كاملة بالنص العثماني
fetch("https://api.alquran.cloud/v1/surah/18/quran-uthmani")
.then(res => res.json())
.then(data => {
    const ayahs = data.data.ayahs;
    const container = document.getElementById("quran-content");
    container.innerHTML = "";

    ayahs.forEach(ayah => {
        container.innerHTML += ayah.text +
        ' <span class="ayah-num">﴿' + ayah.numberInSurah + '﴾</span> ';
    });
});

// حفظ PDF
function savePDF(){
    const element = document.getElementById("pdf-content");
    html2pdf()
      .set({
        margin: 0,
        filename: 'سورة_الكهف.pdf',
        image: { type: 'jpeg', quality: 1 },
        html2canvas: { scale: 3 },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
      })
      .from(element)
      .save();
    

}
</script>

</body>
</html>